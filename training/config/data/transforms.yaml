# Data augmentation transforms for VPOG training

# normalize transform (CLIP stats)
normalize:
  _target_: torchvision.transforms.Compose
  transforms:
    - _target_: torchvision.transforms.Normalize
      mean: [0.48145466, 0.4578275, 0.40821073]
      std: [0.26862954, 0.26130258, 0.27577711]

# crop transform
crop_transform:
  _target_: src.utils.crop.CropResizePad
  target_size: 224

# RGB augmentation (similar to gigapose)
rgb_transform:
  _target_: src.megapose.datasets.augmentations.SceneObservationAugmentation
  transform:
    # blur
    - _target_: src.megapose.datasets.augmentations.SceneObservationAugmentation
      transform:
        _target_: src.megapose.datasets.augmentations.PillowBlur
        factor_interval: [1, 3]
      p: 0.4
    # sharpness
    - _target_: src.megapose.datasets.augmentations.SceneObservationAugmentation
      transform:
        _target_: src.megapose.datasets.augmentations.PillowSharpness
        factor_interval: [0.0, 50.0]
      p: 0.3
    # contrast
    - _target_: src.megapose.datasets.augmentations.SceneObservationAugmentation
      transform:
        _target_: src.megapose.datasets.augmentations.PillowContrast
        factor_interval: [0.2, 50.0]
      p: 0.3
    # brightness
    - _target_: src.megapose.datasets.augmentations.SceneObservationAugmentation
      transform:
        _target_: src.megapose.datasets.augmentations.PillowBrightness
        factor_interval: [0.1, 6.0]
      p: 0.5
    # color
    - _target_: src.megapose.datasets.augmentations.SceneObservationAugmentation
      transform:
        _target_: src.megapose.datasets.augmentations.PillowColor
        factor_interval: [0.0, 20.0]
      p: 0.3
  p: 0.8

# Augmentation flags
rgb_augmentation: true
inplane_augmentation: false
